# Disable MultiViews to prevent Apache from automatically serving files with extensions
Options -MultiViews

RewriteEngine On

# Redireccionar todas las peticiones a index.html si no es un fichero o directorio
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

RewriteCond %{REQUEST_URI} ^/defaultsite$
RewriteRule ^.*$ / [R=301,L]
############################################################
# Desactivar caché en Apache (IONOS)
# Esto fuerza a que el servidor no almacene en caché las respuestas
############################################################

<IfModule mod_headers.c>
  Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
  Header set Pragma "no-cache"
  Header set Expires "0"
  # Para proxies/CDN compatibles
  Header set Surrogate-Control "no-store"
</IfModule>

# Evitar validadores de caché
FileETag None

<IfModule mod_expires.c>
  ExpiresActive Off
</IfModule>
